<div class="d-flex align-items-center flex-column" style="min-height: calc(100vh - 100px - 124px);">
  <div class="d-flex justify-content-center w-80 signupHead" style="min-height: calc(100vh - 100px - 124px);">
    <div class="d-flex justify-content-center align-items-center flex-column signUpContainer w-100 gap-3 h-100">
      <div class="d-flex justify-content-between w-100 steps">
        <span id="step1" [ngClass]="steps.step1 ? 'active-link': ''" class="prevent-select" (click)="next('step1')">Schritt
          1</span>
        <span class="devider prevent-select">-</span>
        <span id="step2" [ngClass]="steps.step2 ? 'active-link': ''" class="prevent-select" (click)="next('step2')">Schritt
          2</span>
      </div>
      <h1 class=" align-self-start mb-3 prevent-select">Registrierung</h1>
      <div class="d-flex flex-column w-100 gap-3 mt-3">
        <div>
          <form class="d-flex flex-column " [formGroup]="signupForm" (ngSubmit)="signup()">
            <div *ngIf="steps.step1" class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
              <input type="text" class="form-control text-secondary border-0 shadow-none rounded-5"
                style="background: transparent;" placeholder="username" name="username" id="usernameField"
                formControlName="username" required autocomplete="off">
              <label for="usernameField" class="m-0 p-0 pt-2">Benutzername</label>
            </div>
            <div *ngIf="steps.step1" class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
              <input type="email" class="form-control text-secondary border-0 shadow-none rounded-5"
                placeholder="name@example.com" style="background: transparent;" name="email" id="emailField"
                formControlName="email" required autocomplete="off">
              <label for="emailField" class="m-0 p-0 pt-2">Email</label>
            </div>
            <div *ngIf="steps.step2" class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
              <input [type]="hide ? 'password' : 'text'"
                class="form-control text-secondary border-0 shadow-none rounded-5" style="background: transparent;"
                name="password" id="passwordField" formControlName="password" placeholder="Enter your password"
                autocomplete="off">
              <button tabindex="-1" (click)="togglePWField($event)" class="border-0 text-secondary rounded-4"
                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"
                style="color: white;position:absolute;right:0;bottom:0;top:0; background: transparent;">
                <span style="background: transparent !important;;" class="material-icons">{{hide ?
                  'visibility_off'
                  : 'visibility'}}</span>
              </button>
              <label for="passwordField" class="m-0 p-0 pt-2">Passwort</label>
            </div>
            <div *ngIf="steps.step2" class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
              <input [type]="hide2 ? 'password' : 'text'"
                class="form-control text-secondary border-0 shadow-none rounded-5" style="background: transparent;"
                name="password2" id="passwordField2" formControlName="password2" placeholder="Best채tige dein Password"
                autocomplete="off">
              <button tabindex="-1" (click)="togglePWField2($event)" class="border-0 text-secondary rounded-4"
                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"
                style="color: white;position:absolute;right:0;bottom:0;top:0;background: transparent;">
                <span class="material-icons">{{hide2 ? 'visibility_off' : 'visibility'}}</span>
              </button>
              <label for="passwordField2" class="m-0 p-0 pt-2">Passwort best채tigen</label>
            </div>
            <div class="d-flex gap-2 align-self-center w-100 justify-content-center buttonContainer">
              <button type="button" [disabled]="steps.step1"
                class="w-100 btn btn-info btn-shadow align-self-center mt-3 rounded border-0"
                style="max-width:8rem;max-height:3rem;height:2.5rem;" (click)="back()">Zur체ck</button>
              <button type="button" [disabled]="isDisabled()" *ngIf="!steps.step2"
                class="w-100 btn btn-info btn-shadow align-self-center mt-3 rounded border-0"
                style="max-width:8rem;max-height:3rem;height:2.5rem;" (click)="forward()">Weiter</button>
              <button type="submit" *ngIf="steps.step2"
                class="w-100 btn btn-info btn-shadow align-self-center mt-3 rounded border-0"
                style="max-width:8rem;max-height:3rem;height:2.5rem;"
                [disabled]="send || isDisabled()">Registrieren</button>
            </div>
            <div class="mt-3 align-self-center redirectLogin ">
              <span class="prevent-select">Bereits registriert?<a routerLink="/signin" class="return-to-signin">
                Jetzt einloggen</a></span>
            </div>
          </form>
        </div>
      </div>
    </div>


  </div>
  <div class="card bg-info rounded-3" *ngIf="success" style="position:absolute;z-index:100;max-width:25rem;">
    <div class="card-title text-danger d-flex text-align-center justify-content-center align-items-center w-100"
      style="font-weight:900; font-size:4rem;">captureVue</div>
    <div class="card-body d-flex justify-content-center align-items-center">
      <p class="text-success" style="text-align:center">Du hast dich erfolgreich registriert. <b>Bitte best채tige
          deine Email Adresse.</b>
        Du wirst in 3 Sekunden zum Login weitergeleitet.</p>
    </div>
  </div>
  <div class="card bg-info rounded-3" *ngIf="signup_failed"
    style="position:absolute;z-index:100;max-width:25rem;min-width:20rem;min-height:15rem;top:30%">
    <div class="card-title text-danger d-flex text-align-center justify-content-center align-items-center w-100"
      style="font-weight:900; font-size:4rem;">captureVue</div>
    <div class="card-body d-flex justify-content-center align-items-center flex-column">
      <span class="text-danger">{{message}}</span>
    </div>
  </div>
</div>
