<div class="w-100 d-flex justify-content-center align-items-center flex-column mb-5 mt-3"
    style="min-height: calc(100vh - 100px - 180px);">
    <div style="width: 80%;">
        <h1 class="mb-3">Sign up</h1>

        <form class="d-flex flex-column" (ngSubmit)="signup()">
            <div class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
                <input type="text" class="form-control text-secondary border-0 shadow-none rounded-5"
                    style="background: transparent;" placeholder="username"
                    name="username" id="usernameField" [(ngModel)]="username" required>
                <label for="usernameField">Enter your username</label>

            </div>
            <div class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
                <input type="email" class="form-control text-secondary border-0 shadow-none rounded-5"
                    placeholder="name@example.com" style="background: transparent;" name="email" id="emailField" [(ngModel)]="email" required>
                <label for="emailField">Enter your email</label>
            </div>
            <div class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
                <input type="email" style="background: transparent;" class="form-control text-secondary border-0 shadow-none rounded-5"
                    placeholder="name@example.com" name="firstName" id="firstNameField" [(ngModel)]="firstName"
                    required>
                <label for="firstNameField">Enter your first name</label>
            </div>
            <div class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
                <input type="email" style="background: transparent;" class="form-control text-secondary border-0 shadow-none rounded-5"
                    placeholder="name@example.com" name="lastName" id="lastNameField" [(ngModel)]="lastName" required>
                <label for="lastNameField">Enter your last name</label>
            </div>
            <div class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
                <input [type]="hide ? 'password' : 'text'"
                    class="form-control text-secondary border-0 shadow-none rounded-5" style="background: transparent;" name="password"
                    id="passwordField" [(ngModel)]="password" placeholder="Enter your password">
                <button tabindex="-1"  (click)="togglePWField($event)" class="border-0 text-secondary rounded-4"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"
                    style="color: white;position:absolute;right:0;bottom:0;top:0; background: transparent;">
                    <span style="background: transparent !important;;" class="material-icons">{{hide ? 'visibility_off' : 'visibility'}}</span>
                </button>
                <label for="passwordField">Enter your password</label>
            </div>
            <div [class.invalid]="password != password2 && password.length > 0 && password2.length > 0"
                [class.valid]="password == password2 && password.length > 0 && password2.length > 0"
                class="form-floating mb-3 w-100 align-self-center" style="max-width:20rem;">
                <input [type]="hide2 ? 'password' : 'text'"
                    class="form-control text-secondary border-0 shadow-none rounded-5" style="background: transparent;" name="password2"
                    id="passwordField2" [(ngModel)]="password2" placeholder="Bestätige dein Password">
                <button tabindex="-1" (click)="togglePWField2($event)" class="border-0 text-secondary rounded-4"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"
                    style="color: white;position:absolute;right:0;bottom:0;top:0;background: transparent;">
                    <span class="material-icons">{{hide2 ? 'visibility_off' : 'visibility'}}</span>
                </button>
                <label for="passwordField">Reenter your password</label>
            </div>
            <button class="w-100 btn btn-info btn-shadow align-self-center mt-3 rounded border-0"
                style="max-width:8rem;max-height:3rem;height:2.5rem;" [disabled]="send">Signup</button>

            <div class="mt-3 align-self-center ">
                <span>Bereits registriert?<a routerLink="/signin">Jetzt einloggen</a></span>
            </div>

        </form>

    </div>
    <div class="card text-bg-dark rounded-3" *ngIf="success" style="position:absolute;z-index:100;max-width:25rem;">
        <div class="card-title text-danger d-flex text-align-center justify-content-center align-items-center w-100"
            style="font-weight:900; font-size:4rem;">RECSYNC</div>
        <div class="card-body d-flex justify-content-center align-items-center">
            <p class="text-success" style="text-align:center">Du hast dich erfolgreich registriert. Bitte bestätige
                deine Email Adresse.
                Du wirst in 3 Sekunden zum Login weitergeleitet.</p>
        </div>
    </div>
    <div class="card text-bg-dark rounded-3" *ngIf="signup_failed"
        style="position:absolute;z-index:100;max-width:25rem;min-width:20rem;min-height:15rem;">
        <div class="card-title text-danger d-flex text-align-center justify-content-center align-items-center w-100"
            style="font-weight:900; font-size:4rem;">RECSYNC</div>
        <div class="card-body d-flex justify-content-center align-items-center flex-column">
            <p class="text-danger" style="text-align:center">{{fail_message}}</p>
            <span class="text-danger">{{message}}</span>
        </div>
    </div>
</div>